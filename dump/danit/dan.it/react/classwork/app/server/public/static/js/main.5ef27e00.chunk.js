(this["webpackJsonpmail-client"]=this["webpackJsonpmail-client"]||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},249:function(e,t,n){},253:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"star",(function(){return k})),n.d(c,"globe",(function(){return w}));var i=n(1),r=n(0),a=n.n(r),s=n(20),o=n.n(s),l=(n(117),n(118),n(119),function(e){return e.user}),j=n(4),u=function(e){var t=e.title,n=e.user;return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("h2",{className:"header__title",children:"Header - class component!"}),Object(i.jsx)("div",{id:"header-title","data-testid":"testTitle",children:t}),!!n&&Object(i.jsx)("div",{id:"user-login",children:n.login})]})};u.defaultProps={title:"Default title"};var d=Object(j.b)((function(e){return{user:l(e)}}))(u),b=n(44),O=n(32),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(r.useState)([]),c=Object(O.a)(n,2),i=c[0],a=c[1];return Object(r.useEffect)((function(){a([]),e.forEach((function(e,n){setTimeout((function(){a((function(t){return t.some((function(t){return t.id===e.id}))?t:[].concat(Object(b.a)(t),[e])}))}),t*n)}))}),[e,t]),i},f=n(5),v=n(108),x=(n(248),function(e){var t=a.a.cloneElement(e.children,{style:Object(f.a)(Object(f.a)({},e.children.style),{},{visibility:"hidden"})});return Object(i.jsx)(v.VelocityComponent,Object(f.a)(Object(f.a)({},e),{},{children:t}))});x.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:0,easing:[.4,0,.2,1],display:null};var p=x;var m=function(){var e=Object(j.c)(),t=Object(r.useMemo)((function(){return[1,2,3,4,5,6,7,8]}),[]),n=h(t,2e3);return Object(i.jsxs)("h2",{children:["Footer ",Object(i.jsx)("button",{onClick:function(){return e({type:"TEST_ACTION"})},children:"Test"}),n.map((function(e){return Object(i.jsx)(p,{duration:2e3,children:Object(i.jsx)("div",{children:e},e)},e)}))]})},C=n(6);n(249);var g=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)(C.c,{exact:!0,className:"link",activeClassName:"link--active",to:"/inbox",children:"Inbox"})}),Object(i.jsx)("div",{children:Object(i.jsx)(C.c,{exact:!0,className:"link",activeClassName:"link--active",to:"/favorites",children:"Favorites"})}),Object(i.jsx)("div",{children:Object(i.jsx)(C.c,{exact:!0,className:"link",activeClassName:"link--active",to:"/sent",children:"Sent"})}),Object(i.jsx)("div",{children:Object(i.jsx)(C.c,{exact:!0,className:"link",activeClassName:"link--active",to:"/login",children:"Login"})})]})},L=n(111),y=n(3),k=(n(253),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffc107",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i.jsx)("svg",{viewBox:"0 0 16 17",width:"16",height:"17",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:Object(i.jsx)("path",{d:"M14.1891 6.37042L10.2219 5.79385L8.44847 2.19854C8.40003 2.1001 8.32034 2.02042 8.2219 1.97198C7.97503 1.8501 7.67503 1.95167 7.55159 2.19854L5.77815 5.79385L1.81097 6.37042C1.70159 6.38604 1.60159 6.4376 1.52503 6.51573C1.43247 6.61086 1.38146 6.73885 1.38322 6.87157C1.38498 7.0043 1.43936 7.13089 1.5344 7.22354L4.40472 10.022L3.72659 13.9735C3.71069 14.0655 3.72086 14.16 3.75595 14.2464C3.79105 14.3329 3.84966 14.4077 3.92514 14.4626C4.00062 14.5174 4.08995 14.55 4.183 14.5566C4.27605 14.5632 4.3691 14.5437 4.45159 14.5001L8.00003 12.6345L11.5485 14.5001C11.6453 14.5517 11.7578 14.5689 11.8657 14.5501C12.1375 14.5032 12.3203 14.2454 12.2735 13.9735L11.5953 10.022L14.4657 7.22354C14.5438 7.14698 14.5953 7.04698 14.611 6.9376C14.6532 6.66417 14.4625 6.41104 14.1891 6.37042Z",stroke:e,fill:t?e:"none"})})}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"green",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i.jsx)("svg",{viewBox:"0 0 16 17",width:"16",height:"17",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns-xlink":"http://www.w3.org/1999/xlink",children:Object(i.jsx)("path",{d:"M7.42857143,15.0206591 L7.42857143,11.4039091 L4.56190476,11.4039091 C5.11657143,12.9033864 6.10780952,14.1695 7.42857143,15.0206591 Z M4.05638095,8.54790909 C4.05638095,9.13093182 4.11657143,9.6985 4.22895238,10.2448182 L7.42857143,10.2448182 L7.42857143,6.76754545 L4.24914286,6.76754545 C4.12495238,7.34245455 4.05638095,7.93861364 4.05638095,8.54790909 Z M8.57142857,1.99595455 L8.57142857,5.60845455 L11.4091429,5.60845455 C10.8453333,4.11245455 9.85866667,2.83938636 8.57142857,1.99595455 Z M5.6072381,1.98861364 C3.91657143,2.63654545 2.54438095,3.94477273 1.79390476,5.60806818 L3.38019048,5.60806818 C3.832,4.216 4.59733333,2.97113636 5.6072381,1.98861364 Z M2.91352381,8.54790909 C2.91352381,7.94131818 2.97409524,7.34631818 3.08304762,6.76754545 L1.39085714,6.76754545 C1.24952381,7.32429545 1.16647619,7.905 1.16647619,8.50656818 C1.16647619,9.10775 1.24990476,9.68806818 1.3912381,10.2448182 L3.06666667,10.2448182 C2.96914286,9.69463636 2.91352381,9.12822727 2.91352381,8.54790909 Z M1.79619048,11.4039091 C2.53790476,13.0420909 3.88457143,14.3356364 5.54628571,14.9889773 C4.53904762,14.01225 3.78819048,12.7847727 3.352,11.4039091 L1.79619048,11.4039091 Z M4.5912381,5.60845455 L7.42857143,5.60845455 L7.42857143,1.99595455 C6.14171429,2.83938636 5.15542857,4.11245455 4.5912381,5.60845455 Z M13.0872381,8.54790909 C13.0872381,9.12822727 13.031619,9.69463636 12.9337143,10.2448182 L14.6087619,10.2448182 C14.7500952,9.68806818 14.8335238,9.10775 14.8335238,8.50656818 C14.8335238,7.905 14.7504762,7.32429545 14.6095238,6.76754545 L12.9177143,6.76754545 C13.0262857,7.34631818 13.0872381,7.94131818 13.0872381,8.54790909 Z M10.3935238,1.989 C11.4030476,2.97113636 12.1687619,4.21638636 12.6205714,5.60806818 L14.2060952,5.60806818 C13.456,3.94515909 12.0841905,2.63693182 10.3935238,1.989 Z M8,16.6198182 C3.60190476,16.6198182 0.0236190476,12.9802727 0.0236190476,8.50656818 C0.0236190476,4.02552273 3.60190476,0.380568182 8,0.380568182 C12.3980952,0.380568182 15.976381,4.02590909 15.976381,8.50656818 C15.976381,12.9802727 12.3980952,16.6198182 8,16.6198182 Z M10.4540952,14.9889773 C12.1154286,14.33525 13.4620952,13.0417045 14.2038095,11.4039091 L12.6487619,11.4039091 C12.2125714,12.7847727 11.4613333,14.0118636 10.4540952,14.9889773 Z M11.944381,8.54790909 C11.944381,7.93861364 11.8758095,7.34245455 11.751619,6.76754545 L8.57142857,6.76754545 L8.57142857,10.2448182 L11.7714286,10.2448182 C11.8838095,9.6985 11.944381,9.13093182 11.944381,8.54790909 Z M8.57142857,11.4039091 L8.57142857,15.0210455 C9.89257143,14.1695 10.8838095,12.9041591 11.4388571,11.4039091 L8.57142857,11.4039091 Z",stroke:e,fill:t?e:"none"})})};var T=function(e){var t=e.type,n=e.color,r=e.filled,a=e.onClick,s=c[t];return s?Object(i.jsx)("span",{"data-testid":"icon",onClick:a,children:s(n,r)}):null},N=n(24),S=n(25),E=n(27),A=n(26),M=function(e){Object(E.a)(n,e);var t=Object(A.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.backgroundColor,c=e.size,r=e.title,a=e.onClick,s={color:t,backgroundColor:n,fontSize:c};return Object(i.jsx)("button",{style:s,onClick:a,children:r})}}]),n}(r.PureComponent);M.defaultProps={color:"black",backgroundColor:"white",size:14};var _=M,P="SET_EMAILS",I="SET_EMAILS_LOADING",Z="TOGGLE_FAVORITES",F=function(e){return{type:I,payload:e}},B=function(e){var t=e.email,n=e.showFull,c=Object(y.g)(),r=Object(j.c)();return Object(i.jsxs)("div",{className:"email",children:[Object(i.jsxs)("div",{className:"email__topic",children:[Object(i.jsx)(C.b,{to:"/emails/".concat(t.id),children:t.topic}),Object(i.jsx)(T,{type:"star",color:"gold",filled:t.favorite,onClick:function(){r(function(e){return{type:Z,payload:e}}(t))}})]}),n&&Object(i.jsx)("div",{className:"email__body",children:t.body}),n&&Object(i.jsxs)("div",{className:"email__controls",children:[Object(i.jsx)(_,{title:"Previous",onClick:function(){t.id>1&&c.push("/emails/".concat(t.id-1))}}),Object(i.jsx)(_,{title:"Next",onClick:function(){c.push("/emails/".concat(t.id+1))}})]})]})},D=function(e){return e.emails.data},R=function(e){return e.emails.isLoading},G=function(e){Object(E.a)(n,e);var t=Object(A.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return Object(i.jsx)("h2",{children:"Loading..."})}}]),n}(r.PureComponent),U=n(43),z=n.n(U),J=function(){return function(e,t){e(F(!0)),z.a.get("/api/emails").then((function(t){var n;e((n=t.data,{type:P,payload:n})),e(F(!1))}))}},V=function(){var e=Object(j.c)(),t=Object(j.d)(D),n=Object(j.d)(R);Object(r.useEffect)((function(){e(J())}),[e]);var c=h(t);if(n)return Object(i.jsx)(G,{});var a=c.map((function(e){return Object(i.jsx)(p,{duration:2e3,children:Object(i.jsx)(B,{email:e})},e.id)}));return Object(i.jsx)("div",{children:Object(i.jsx)("div",{children:a})})};var H=Object(j.b)((function(e){return{emails:D(e),isLoading:R(e)}}))((function(e){var t=e.emails;if(e.isLoading)return Object(i.jsx)(G,{});var n=t.filter((function(e){return e.favorite})).map((function(e){return Object(i.jsx)(B,{email:e},e.id)}));return Object(i.jsx)("div",{children:n})}));var Q=function(){return Object(i.jsx)("h3",{children:"Sent"})};n(272);var W=function(){var e=Object(y.g)();return Object(i.jsxs)("div",{className:"page-404",children:[Object(i.jsx)("h2",{children:"404"}),Object(i.jsx)("h3",{children:"Page not found"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:function(){e.push("/")},children:"Go to home page"})})]})};var q=function(){var e=Object(r.useState)(null),t=Object(O.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),s=Object(O.a)(a,2),o=s[0],l=s[1],j=Object(y.h)().emailId;return Object(r.useEffect)((function(){l(!0),z()("/api/emails/".concat(j)).then((function(e){c(e.data),l(!1)}))}),[j]),o?Object(i.jsx)(G,{}):Object(i.jsx)("div",{children:Object(i.jsx)(B,{email:n,showFull:!0})})},K="SET_CURRENT_USER";var X=Object(j.b)(null,(function(e){return{setUser:function(t){return e(function(e){return{type:K,payload:e}}(t))}}}))((function(e){var t=e.setUser,n=e.isAuth,c=Object(r.useRef)(null),a=Object(r.useRef)(null);return n?Object(i.jsx)(y.a,{to:"/"}):Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({login:c.current.value,password:a.current.value})},children:[Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"text",placeholder:"Email",ref:c})}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"password",placeholder:"Password",ref:a})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit","data-testid":"loginButton",children:"Log in"})})]})}));var Y=function(e){var t=e.children,n=e.isAuth,c=Object(L.a)(e,["children","isAuth"]);return Object(i.jsx)(y.b,Object(f.a)(Object(f.a)({},c),{},{render:function(){return n?t:Object(i.jsx)(y.a,{to:"/login"})}}))},$=Object(j.b)((function(e){return{user:l(e)}}))((function(e){var t=!!e.user;return Object(i.jsxs)(y.d,{children:[Object(i.jsx)(y.a,{exact:!0,from:"/",to:"/inbox"}),Object(i.jsx)(y.b,{exact:!0,path:"/login",children:Object(i.jsx)(X,{isAuth:t})}),Object(i.jsx)(Y,{exact:!0,path:"/inbox",isAuth:t,children:Object(i.jsx)(V,{})}),Object(i.jsx)(Y,{exact:!0,path:"/favorites",isAuth:t,children:Object(i.jsx)(H,{})}),Object(i.jsx)(Y,{exact:!0,path:"/sent",isAuth:t,children:Object(i.jsx)(Q,{})}),Object(i.jsx)(Y,{exact:!0,path:"/emails/:emailId",isAuth:t,children:Object(i.jsx)(q,{})}),Object(i.jsx)(y.b,{path:"*",children:Object(i.jsx)(W,{})})]})})),ee=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(d,{}),Object(i.jsx)(g,{}),Object(i.jsx)($,{}),Object(i.jsx)(m,{})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,275)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))},ne=(n(273),n.p+"static/media/death-star.27fc849e.png"),ce=function(){var e=Object(y.g)();console.log(e);return Object(i.jsxs)("div",{className:"error-500",children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:ne,alt:"death-star"})}),Object(i.jsx)("h3",{children:"An error has occurred"}),Object(i.jsx)("h4",{children:"But we already sent droids to fix it"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:function(){e.push("/")},children:"Go to home page"})})]})},ie=function(e){Object(E.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(N.a)(this,n);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={errorPresent:!1},e}return Object(S.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.location;t.errorPresent&&n.pathname!==e.location.pathname&&this.setState({errorPresent:!1})}},{key:"render",value:function(){var e=this.state.errorPresent,t=this.props.children;return e?Object(i.jsx)(ce,{}):t}}],[{key:"getDerivedStateFromError",value:function(e){return{errorPresent:!0}}}]),n}(r.PureComponent),re=Object(y.i)(ie),ae=n(17),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return t.payload;case"TEST_ACTION":return console.log("TEST_ACTION in user reducer"),e;default:return e}},oe={isLoading:!0,data:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});case I:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});case Z:var n=t.payload,c=e.data.indexOf(n),i=Object(f.a)(Object(f.a)({},n),{},{favorite:!n.favorite}),r=Object(b.a)(e.data);return r.splice(c,1,i),Object(f.a)(Object(f.a)({},e),{},{data:r});case"TEST_ACTION":return console.log("TEST_ACTION in email reducer"),e;default:return e}},je=Object(ae.combineReducers)({user:se,emails:le}),ue=n(109),de=n(110),be=Object(ae.createStore)(je,Object(de.composeWithDevTools)(Object(ae.applyMiddleware)(ue.a)));o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(j.a,{store:be,children:Object(i.jsx)(C.a,{children:Object(i.jsx)(re,{children:Object(i.jsx)(ee,{})})})})}),document.getElementById("root")),te()}},[[274,1,2]]]);
//# sourceMappingURL=main.5ef27e00.chunk.js.map